library(tidyverse)
library(readr)
players_score <- read_csv(file = 'Players_Score.csv')
head(players_score)
players_score$cambio<-str_extract_all(players_score$Apps, "\\([^)]*\\)","")
players_score$cambio<-str_extract_all(players_score$cambio,"[0-9]+")
players_score$Apps<-str_replace_all(players_score$Apps, "\\([^)]*\\)","")
numbers <- c("age", "Apps", "cambio", "Goals", "Assists", "Yel", "Red", "SpG", "PS", "AerialsWon", "Rating")
players_score[numbers] <- lapply(players_score[numbers],as.numeric)
head(players_score)
numbers <- c("age", "Apps", "cambio", "Goals", "Assists", "Yel", "Red", "SpG", "PS", "AerialsWon", "MotM", "Rating")
players_score[numbers] <- lapply(players_score[numbers],as.numeric)
players_score[numbers] <- players_score[numbers] %>%
replace_na(list(age=0,Apps=0,cambio=0,Goals=0,Assists=0,Yel=0,Red=0,SpG=0,PS=0,AerialsWon=0,MotM=0,Rating=0))
filter(players_score, club %in% c("Real Madrid","Barcelona"), age < 30)
players_score %>%
filter(club=='Real Madrid')
players_score %>%
select(club,age) %>%
filter(club=='Real Madrid')
players_score %>%
mutate(Goal_Rate = Mins/Goals) %>%
arrange(desc(Goal_Rate))
players_score %>%
select(club,Goals) %>%
group_by(club) %>%
summarise(team_goals = sum(Goals)) %>%
arrange(desc(team_goals))
require(dplyr)
require(tidyverse)
require(readr)
data_distribuidor <- read_csv('tabla_completa.csv')
data_distribuidor %>%
head() %>%
view()
data_distribuidor %>%
head(15) %>%
view()
data_distribuidor %>%
head(50) %>%
view()
data_distribuidor %>%
glimpse()
data_distribuidor[is.na(data_distribuidor)]
names(data_distribuidor)
var_fac <- c("CREDITO","UNIDAD")
data_distribuidor[var_fac] <- lapply(data_distribuidor[var_fac], as.factor)
glimpse(data_distribuidor)
str(data_distribuidor)
?read_csv
data_distribuidor <- read_csv('tabla_completa.csv', locale = readr::locale(encoding = "latin1"))
var_fac <- c("CREDITO","UNIDAD")
data_distribuidor[var_fac] <- lapply(data_distribuidor[var_fac], as.factor)
filas_faltante <- grep("FALTANTE", data_distribuidor$CLIENTE, ignore.case = TRUE)
filas_faltante
data_distribuidor$CLIENTE[filas_faltante == data_distribuidor$X1]
data_distribuidor[filas_faltante]
data_distribuidor[filas_faltante,]
group_by(PILOTO) %>%
summarise(viajes_faltantes = n())
data_distribuidor[filas_faltante,] %>%
select(PILOTO) %>%
group_by(PILOTO) %>%
summarise(viajes_faltantes = n())
data_distribuidor[filas_faltante,] %>%
select(PILOTO,MES,ANIO) %>%
group_by(PILOTO,MES,ANIO) %>%
summarise(viajes_faltantes = n())
data_distribuidor[filas_faltante,] %>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_faltantes = n())
data_pilotos <- data_distribuidor[filas_faltante,] %>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_faltantes = n())
data_pilotos
select(viajes_totales)
data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n())
data_pilotos$viajes_totales <- data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n())$viajes_totales
data_pilotos
data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n())
data_pilotos <- left_join(data_pilotos, data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n()), by = c("PILOTO"="PILOTO", "MES"="MES"))
data_pilotos
data_pilotos <- left_join(data_distribuidor[filas_faltante,] %>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_faltantes = n()), data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n()), by = c("PILOTO"="PILOTO", "MES"="MES"))
data_pilotos
data_pilotos <- data_pilotos %>% summarise(%_faltantes_totales = viajes_faltantes/viajes_totales)
data_pilotos <- left_join(data_distribuidor[filas_faltante,] %>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_faltantes = n()), data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n()), by = c("PILOTO"="PILOTO", "MES"="MES")) %>%
summarise(%_faltantes_totales = viajes_faltantes/viajes_totales)
data_pilotos <- left_join(data_distribuidor[filas_faltante,] %>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_faltantes = n()), data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n()), by = c("PILOTO"="PILOTO", "MES"="MES")) %>%
mutate(%_faltantes = viajes_faltantes/viajes_totales)
data_pilotos <- data_pilotos %>% mutate(%_faltantes = viajes_faltantes/viajes_totales)
data_pilotos$%_faltantes <- data_pilotos$viajes_faltantes/data_pilotos$viajes_totales
data_pilotos <- left_join(data_distribuidor[filas_faltante,] %>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_faltantes = n()), data_distribuidor%>%
select(PILOTO,MES) %>%
group_by(PILOTO,MES) %>%
summarise(viajes_totales = n()), by = c("PILOTO"="PILOTO", "MES"="MES"))
data_pilotos$porcentajes_faltantes <- data_pilotos$viajes_faltantes/data_pilotos$viajes_totales
data_pilotos
data_pilotos %>%
group_by(PILOTO) %>%
summarise(promedio_faltantes = mean(porcentajes_faltantes))
data_pilotos %>%
group_by(PILOTO) %>%
summarise(promedio_faltantes = mean(porcentajes_faltantes)) %>%
arrange(desc(promedio_faltantes))
data_pilotos %>%
group_by(PILOTO) %>%
summarise(promedio_faltantes = mean(porcentajes_faltantes)*100) %>%
arrange(desc(promedio_faltantes))
data_pilotos %>%
group_by(PILOTO) %>%
summarise(promedio_faltantes_porcentaje = mean(porcentajes_faltantes)*100) %>%
arrange(desc(promedio_faltantes))
data_pilotos %>%
group_by(PILOTO) %>%
summarise(promedio_faltantes_porcentaje = mean(porcentajes_faltantes)*100) %>%
arrange(desc(promedio_faltantes_porcentaje))
